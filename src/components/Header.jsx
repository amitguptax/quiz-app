import React, { useEffect, useState } from "react";
import { Link } from "react-router-dom";
import { useLanguage } from "../context/LanguageContext";
import "./Header.css";
import VoiceChat from './VoiceChat';
const Header = () => {
  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);
  const [learnOpen, setLearnOpen] = useState(false);
  const [examOpen, setExamOpen] = useState(false);
  const [subjectOpen, setSubjectOpen] = useState(false);
  const [practiceOpen, setPracticeOpen] = useState(false);
  const [resourcesOpen, setResourcesOpen] = useState(false);
  const [careerOpen, setCareerOpen] = useState(false);
  const [funZoneOpen, setFunZoneOpen] = useState(false);
  const [showVoiceChat, setShowVoiceChat] = useState(false);
  const [searchQuery, setSearchQuery] = useState("");
const [showSuggestions, setShowSuggestions] = useState(false);
const [filteredSuggestions, setFilteredSuggestions] = useState([]);

const searchItems = [
  { label: "Data Structures", link: "/dsa" },
  { label: "Algorithms", link: "/algorithms" },
 { label: "Math Class 1", link: "/math/class/1" },
{ label: "Math Class 2", link: "/math/class/2" },
{ label: "Math Class 3", link: "/math/class/3" },
{ label: "Math Class 4", link: "/math/class/4" },
{ label: "Math Class 5", link: "/math/class/5" },
{ label: "Math Class 6", link: "/math/class/6" },
{ label: "Math Class 7", link: "/math/class/7" },
{ label: "Math Class 8", link: "/math/class/8" },
{ label: "Math Class 9", link: "/math/class/9" },
{ label: "Math Class 10", link: "/math/class/10" },
{ label: "Math Class 11", link: "/math/class/11" },
{ label: "Math Class 12", link: "/math/class/12" },
{ label: "English Class 1", link: "/english/class/1" },
{ label: "English Class 2", link: "/english/class/2" },
{ label: "English Class 3", link: "/english/class/3" },
{ label: "English Class 4", link: "/english/class/4" },
{ label: "English Class 5", link: "/english/class/5" },
{ label: "English Class 6", link: "/english/class/6" },
{ label: "English Class 7", link: "/english/class/7" },
{ label: "English Class 8", link: "/english/class/8" },
{ label: "English Class 9", link: "/english/class/9" },
{ label: "English Class 10", link: "/english/class/10" },
{ label: "English Class 11", link: "/english/class/11" },
{ label: "English Class 12", link: "/english/class/12" },
{ label: "Science Class 1", link: "/science/class/1" },
  { label: "Science Class 2", link: "/science/class/2" },
  { label: "Science Class 3", link: "/science/class/3" },
  { label: "Science Class 4", link: "/science/class/4" },
  { label: "Science Class 5", link: "/science/class/5" },
  { label: "Science Class 6", link: "/science/class/6" },
  { label: "Science Class 7", link: "/science/class/7" },
  { label: "Science Class 8", link: "/science/class/8" },
  { label: "Science Class 9", link: "/science/class/9" },
  { label: "Science Class 10", link: "/science/class/10" },
  { label: "Science Class 11", link: "/science/class/11" },
  { label: "Science Class 12", link: "/science/class/12" },
{ label: "Data Structures", hindi: "рдбреЗрдЯрд╛ рд╕реНрдЯреНрд░рдХреНрдЪрд░", link: "/dsa" },
  { label: "Algorithms", hindi: "рдЕрд▓реНрдЧреЛрд░рд┐рджрдо", link: "/algorithms" },
  { label: "Python Practice", hindi: "рдкрд╛рдпрдерди рдЕрднреНрдпрд╛рд╕", link: "/python" },
  { label: "JavaScript Practice", hindi: "рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдЕрднреНрдпрд╛рд╕", link: "/javascript" },
  { label: "HTML/CSS Quiz", hindi: "HTML/CSS рдХреНрд╡рд┐рдЬрд╝", link: "/html-css" },
  { label: "React.js Projects", hindi: "React.js рдкреНрд░реЛрдЬреЗрдХреНрдЯреНрд╕", link: "/react" },
  { label: "Node.js Backend", hindi: "Node.js рдмреИрдХрдПрдВрдб", link: "/node" },
  { label: "Git & GitHub", hindi: "Git рдФрд░ GitHub", link: "/git" },
  { label: "Tech Interview Questions", hindi: "рддрдХрдиреАрдХреА рд╕рд╛рдХреНрд╖рд╛рддреНрдХрд╛рд░ рдкреНрд░рд╢реНрди", link: "/tech-interview" },

 { label: "ЁЯзо Math", hindi: "рдЧрдгрд┐рдд", link: "/math" },
  { label: "ЁЯУШ English", hindi: "рдЕрдВрдЧреНрд░реЗрдЬрд╝реА", link: "/english" },
  { label: "ЁЯФм Science", hindi: "рд╡рд┐рдЬреНрдЮрд╛рди", link: "/science" },
  { label: "ЁЯУЦ Stories", hindi: "рдХрд╣рд╛рдирд┐рдпрд╛рдБ", link: "/stories" },
  { label: "тЭУ Quizzes", hindi: "рдХреНрд╡рд┐рдЬрд╝", link: "/quizzes" },
  { label: "ЁЯМН GK", hindi: "рд╕рд╛рдорд╛рдиреНрдп рдЬреНрдЮрд╛рди", link: "/gk" },
  { label: "ЁЯПЫя╕П Polity", hindi: "рд░рд╛рдЬрдиреАрддрд┐ рд╡рд┐рдЬреНрдЮрд╛рди", link: "/polity" },
  { label: "ЁЯзк Chemistry", hindi: "рд░рд╕рд╛рдпрди рд╡рд┐рдЬреНрдЮрд╛рди", link: "/chemistry" },
  { label: "ЁЯУР Physics", hindi: "рднреМрддрд┐рдХ рд╡рд┐рдЬреНрдЮрд╛рди", link: "/physics" },
  { label: "ЁЯзн Geography", hindi: "рднреВрдЧреЛрд▓", link: "/geography" },
  { label: "ЁЯП╣ History", hindi: "рдЗрддрд┐рд╣рд╛рд╕", link: "/history" },
  { label: "ЁЯза Reasoning", hindi: "рддрд░реНрдХрд╢рдХреНрддрд┐", link: "/reasoning" },
  { label: "ЁЯТб Logical Aptitude", hindi: "рддрд╛рд░реНрдХрд┐рдХ рдпреЛрдЧреНрдпрддрд╛", link: "/aptitude" },
  { label: "ЁЯУЭ Grammar", hindi: "рд╡реНрдпрд╛рдХрд░рдг", link: "/grammar" },
  { label: "ЁЯМР Computers", hindi: "рдХрдВрдкреНрдпреВрдЯрд░", link: "/computers" },
  { label: "ЁЯУК Economics", hindi: "рдЕрд░реНрдерд╢рд╛рд╕реНрддреНрд░", link: "/economics" },
  { label: "ЁЯУЪ Hindi", hindi: "рд╣рд┐рдВрджреА", link: "/hindi" },
  { label: "ЁЯУЦ Sanskrit", hindi: "рд╕рдВрд╕реНрдХреГрдд", link: "/sanskrit" },
  // Reasoning Subtopics
  { label: "Reasoning - Coding Decoding", hindi: "рдХреЛрдбрд┐рдВрдЧ-рдбрд┐рдХреЛрдбрд┐рдВрдЧ", link: "/reasoning/coding-decoding" },
  { label: "Reasoning - Blood Relations", hindi: "рд░рдХреНрдд рд╕рдВрдмрдВрдз", link: "/reasoning/blood-relations" },
  { label: "Reasoning - Direction Sense", hindi: "рджрд┐рд╢рд╛ рдЬреНрдЮрд╛рди", link: "/reasoning/direction-sense" },

  // Exams & Practice
  { label: "SSC Exam", hindi: "SSC рдкрд░реАрдХреНрд╖рд╛", link: "/ssc" },
  { label: "Banking Exam", hindi: "рдмреИрдВрдХрд┐рдВрдЧ рдкрд░реАрдХреНрд╖рд╛", link: "/banking" },
  { label: "UPSC Exam", hindi: "UPSC рдкрд░реАрдХреНрд╖рд╛", link: "/upsc" },
  { label: "Railway Exam", hindi: "рд░реЗрд▓рд╡реЗ рдкрд░реАрдХреНрд╖рд╛", link: "/railway" },
  { label: "Teacher Eligibility Test", hindi: "рд╢рд┐рдХреНрд╖рдХ рдкрд╛рддреНрд░рддрд╛ рдкрд░реАрдХреНрд╖рд╛", link: "/tet" },
  { label: "Mock Tests", hindi: "рдореЙрдХ рдЯреЗрд╕реНрдЯ", link: "/mock-tests" },
  { label: "Resume Builder", hindi: "рд░рд┐рдЬрд╝реНрдпреВрдореЗ рдмрд┐рд▓реНрдбрд░", link: "/resume-builder" },
  { label: "Interview Prep", hindi: "рдЗрдВрдЯрд░рд╡реНрдпреВ рддреИрдпрд╛рд░реА", link: "/interview-prep" },
  { label: "Typing Practice", hindi: "рдЯрд╛рдЗрдкрд┐рдВрдЧ рдЕрднреНрдпрд╛рд╕", link: "/typing" },
  { label: "Vocabulary Builder", hindi: "рд╢рдмреНрджрд╛рд╡рд▓реА рдирд┐рд░реНрдорд╛рдг", link: "/vocabulary" },

  // GK History Subtopics
  { label: "GK - Ancient History", hindi: "рдкреНрд░рд╛рдЪреАрди рдЗрддрд┐рд╣рд╛рд╕", link: "/gk/history/ancient" },
  { label: "GK - Medieval History", hindi: "рдордзреНрдпрдХрд╛рд▓реАрди рдЗрддрд┐рд╣рд╛рд╕", link: "/gk/history/medieval" },
  { label: "GK - Modern History", hindi: "рдЖрдзреБрдирд┐рдХ рдЗрддрд┐рд╣рд╛рд╕", link: "/gk/history/modern" },
  { label: "GK - Freedom Fighters & Leaders", hindi: "рд╕реНрд╡рддрдВрддреНрд░рддрд╛ рд╕реЗрдирд╛рдиреА рдФрд░ рдиреЗрддрд╛", link: "/gk/history/personalities" },

  // Security and Tech
  { label: "Cyber Security Basics", hindi: "рд╕рд╛рдЗрдмрд░ рд╕реБрд░рдХреНрд╖рд╛ рдореВрд▓ рдмрд╛рддреЗрдВ", link: "/cyber-security" }


];

const handleSearchInput = (query) => {
  setSearchQuery(query);
  if (query.trim() === "") {
    setFilteredSuggestions([]);
  } else {
    const filtered = searchItems.filter((item) =>
      item.label.toLowerCase().includes(query.toLowerCase())
    );
    setFilteredSuggestions(filtered);
  }
};



  const { language, setLanguage } = useLanguage();

  const toggleLanguage = () => {
    setLanguage(language === "en" ? "hi" : "en");
  };

  const closeAll = () => {
    setLearnOpen(false);
    setExamOpen(false);
    setSubjectOpen(false);
    setPracticeOpen(false);
    setResourcesOpen(false);
    setCareerOpen(false);
    setFunZoneOpen(false);
    setMobileMenuOpen(false);
  };

  const openOnly = (menuSetter) => {
    closeAll();
    menuSetter(true);
  };
  useEffect(() => {
  const handleClickOutside = (e) => {
    if (!e.target.closest(".search-container")) {
      setShowSuggestions(false);
    }
  };
  window.addEventListener("click", handleClickOutside);
  return () => window.removeEventListener("click", handleClickOutside);
}, []);


  return (
    <header className="header">

      {/* тЬЕ Desktop Layout */}
      <div className="header-desktop desktop-only">
        <div className="header-left">
          <div className="brand-title">Examble</div>
        </div>

        <div className="header-center">
          <ul className="nav-list">
          
  <li className="nav-item" onClick={() => {
  setLearnOpen(!learnOpen);
  setExamOpen(false);
  setSubjectOpen(false);
  setCareerOpen(false);
  setFunZoneOpen(false);
  setPracticeOpen(false);
  setResourcesOpen(false);
}}>
  Learn
  {learnOpen && (
    <ul className="dropdown">
   <li><Link to="/math" onClick={closeAll}>ЁЯзо Mathematics</Link></li>
  <li><Link to="/english" onClick={closeAll}>ЁЯУШ English</Link></li>
  <li><Link to="/science" onClick={closeAll}>ЁЯФм Science</Link></li>
  <li><Link to="/socialscience" onClick={closeAll}>ЁЯзн Social Science</Link></li>
  <li><Link to="/gk" onClick={closeAll}>ЁЯМН GK</Link></li>
  <li><Link to="/polity" onClick={closeAll}>ЁЯПЫя╕П Polity</Link></li>
  <li><Link to="/chemistry" onClick={closeAll}>ЁЯзк Chemistry</Link></li>
  <li><Link to="/physics" onClick={closeAll}>ЁЯУР Physics</Link></li>
  <li><Link to="/geography" onClick={closeAll}>ЁЯзн Geography</Link></li>
  <li><Link to="/history" onClick={closeAll}>ЁЯП╣ History</Link></li>
  <li><Link to="/reasoning" onClick={closeAll}>ЁЯза Reasoning</Link></li>
  <li><Link to="/logical-aptitude" onClick={closeAll}>ЁЯТб Logical Aptitude</Link></li>
  <li><Link to="/grammer" onClick={closeAll}>ЁЯУЭ Grammar</Link></li>
  <li><Link to="/computers" onClick={closeAll}>ЁЯМР Computers</Link></li>
  <li><Link to="/economics" onClick={closeAll}>ЁЯУК Economics</Link></li>
  <li><Link to="/hindi" onClick={closeAll}>ЁЯУЪ Hindi</Link></li>
  <li><Link to="/sanskrit" onClick={closeAll}>ЁЯУЦ Sanskrit</Link></li>
  <li><Link to="/hindigrammer" onClick={closeAll}>ЁЯУЪ рд╣рд┐рдВрджреА рд╡реНрдпрд╛рдХрд░рдг</Link></li>
  <li><Link to="/stories" onClick={closeAll}>ЁЯУЦ Stories</Link></li>
  <li><Link to="/quizzes" onClick={closeAll}>ЁЯУШ English тЖФ Hindi Translation</Link></li>
             
    </ul>
  )}
</li>

 <li className="nav-item" onClick={() => {
  setLearnOpen(false);
  setExamOpen(!examOpen);
  setSubjectOpen(false);
  setCareerOpen(false);
  setFunZoneOpen(false);
  setPracticeOpen(false);
  setResourcesOpen(false);
}}>
              Exams
              {examOpen && (
                <ul className="dropdown mega-menu">
                  <li><strong>Government Exams</strong></li>
                  <li><Link to="/upsc" onClick={closeAll}>ЁЯЫбя╕П UPSC</Link></li>
<li><Link to="/state-psc" onClick={closeAll}>ЁЯПЫя╕П State PSC</Link></li>
  <li><Link to="/ssc" onClick={closeAll}>ЁЯУЪ SSC</Link></li>
<li><Link to="/banking" onClick={closeAll}>ЁЯТ░ Banking</Link></li>
<li><Link to="/railway" onClick={closeAll}>ЁЯЪЖ Railway</Link></li>
<li><Link to="/teaching-exams" onClick={closeAll}>ЁЯСйтАНЁЯПл CTET/TET</Link></li>
<li><Link to="/si" onClick={closeAll}>ЁЯХ╡я╕ПтАНтЩВя╕П Sub-Inspector (SI)</Link></li>
<li><Link to="/police" onClick={closeAll}>ЁЯЪУ Police Exams</Link></li>

                  <li><strong>Engineering</strong></li>
                    <li><Link to="/gate" onClick={closeAll}>ЁЯзк GATE</Link></li>
<li><Link to="/ies" onClick={closeAll}>ЁЯЫая╕П IES</Link></li>
<li><Link to="/jee-advanced" onClick={closeAll}>ЁЯУП JEE Advanced</Link></li>
<li><Link to="/jee-main" onClick={closeAll}>ЁЯУР JEE Main</Link></li>
                   <li><strong>State Engineering Exams </strong></li>
     <li><Link to="/mht-cet" onClick={closeAll}>ЁЯПЩя╕П MHT-CET</Link></li>
<li><Link to="/wbjee" onClick={closeAll}>ЁЯМЙ WBJEE</Link></li>
<li><Link to="/kcet" onClick={closeAll}>ЁЯМ┐ KCET</Link></li>
<li><Link to="/ap-eapcet" onClick={closeAll}>ЁЯМК AP EAPCET</Link></li>
<li><Link to="/ts-eapcet" onClick={closeAll}>тШАя╕П TS EAPCET</Link></li>
<li><Link to="/upsee" onClick={closeAll}>ЁЯПп UPSEE</Link></li>

                  <li><strong>Medical</strong></li>
               <li><Link to="/neet" onClick={closeAll}>ЁЯТЙ NEET</Link></li>
<li><Link to="/aiims" onClick={closeAll}>ЁЯПе AIIMS</Link></li>
<li><Link to="/neet" onClick={closeAll}>ЁЯУШ NEET PG</Link></li>
<li><Link to="/ini-cet" onClick={closeAll}>ЁЯза INI-CET</Link></li>
<li><Link to="/fmge" onClick={closeAll}>ЁЯМН FMGE</Link></li>
<li><Link to="/jipmer" onClick={closeAll}>ЁЯПл JIPMER</Link></li>

                  <li><strong>Defence</strong></li>
                 <li><Link to="/nda" onClick={closeAll}>ЁЯОЦя╕П NDA</Link></li>
<li><Link to="/cds" onClick={closeAll}>ЁЯкЦ CDS</Link></li>
<li><Link to="/afcat" onClick={closeAll}>тЬИя╕П AFCAT</Link></li>
<li><Link to="/sainik" onClick={closeAll}>ЁЯПл Sainik School</Link></li>

                  <li><strong>Others</strong></li>
            
                        <li><Link to="/olympiads">ЁЯеЗ Olympiads</Link></li>
                  <li><Link to="/navodaya" onClick={closeAll}>ЁЯПд Navodaya Vidyalaya</Link></li>
<li><Link to="/cuet" onClick={closeAll}>ЁЯОУ CUET</Link></li>
<li><Link to="/clat" onClick={closeAll}>тЪЦя╕П CLAT</Link></li>
<li><Link to="/nptel" onClick={closeAll}>ЁЯОе NPTEL</Link></li>
<li><Link to="/nta" onClick={closeAll}>ЁЯз╛ NTA Exams</Link></li>
                </ul>
              )}
            </li>

        <li className="nav-item" onClick={() => {
          
  setLearnOpen(false);
  setExamOpen(false);
  setSubjectOpen(!subjectOpen);
  setCareerOpen(false);
  setFunZoneOpen(false);
  setPracticeOpen(false);
  setResourcesOpen(false);
}}>
              Subjects
              {subjectOpen && (
                <ul className="dropdown">
   <li><Link to="/math" onClick={closeAll}>тЮХ Mathematics</Link></li>
  <li><Link to="/chemistry" onClick={closeAll}>ЁЯзк Chemistry</Link></li>
  <li><Link to="/physics" onClick={closeAll}>ЁЯУР Physics</Link></li>
  <li><Link to="/biology" onClick={closeAll}>ЁЯзм Biology</Link></li>
  <li><Link to="/english" onClick={closeAll}>ЁЯУШ English</Link></li>
  <li><Link to="/gk" onClick={closeAll}>ЁЯза General Knowledge</Link></li>
  <li><Link to="/reasoning" onClick={closeAll}>ЁЯТб Reasoning</Link></li>
  <li><Link to="/science" onClick={closeAll}>ЁЯФм General Science</Link></li>
  <li><Link to="/computers" onClick={closeAll}>ЁЯЦея╕П Computer Awareness</Link></li>
  <li><Link to="/aptitude" onClick={closeAll}>ЁЯТб Aptitude</Link></li>
  <li><Link to="/environment" onClick={closeAll}>ЁЯМ▒ Environment</Link></li>
  <li><Link to="/moral-education" onClick={closeAll}>ЁЯЩП Moral Education</Link></li>
  <li><Link to="/sports" onClick={closeAll}>тЪ╜ Sports</Link></li>
  <li><Link to="/art" onClick={closeAll}>ЁЯОи Art</Link></li>
                </ul>
              )}
            </li>

            <li className="nav-item" onClick={() => {
  setResourcesOpen(false);      
  setLearnOpen(false);
  setExamOpen(false);
  setSubjectOpen(false);
  setCareerOpen(false);
  setFunZoneOpen(false);
  setPracticeOpen(!practiceOpen);
}}>
              Practice
              {practiceOpen && (
                <ul className="dropdown">
<li><Link to="/daily-practices" onClick={closeAll}>ЁЯУЭ Daily Practice</Link></li>
  <li><Link to="/mock-tests" onClick={closeAll}>ЁЯУК Mock Tests</Link></li>
  <li><Link to="/previous-papers" onClick={closeAll}>ЁЯУД Previous Papers</Link></li>
  <li><Link to="/mcq-practice" onClick={closeAll}>ЁЯза MCQ Practice</Link></li>
  <li><Link to="/chapter-wise" onClick={closeAll}>ЁЯУШ Chapter-wise Practice</Link></li>
  <li><Link to="/topic-wise" onClick={closeAll}>ЁЯУЧ Topic-wise Practice</Link></li>
  <li><Link to="/subject-wise" onClick={closeAll}>ЁЯУЩ Subject-wise Practice</Link></li>
  <li><Link to="/timed-tests" onClick={closeAll}>тП▒я╕П Timed Tests</Link></li>
  <li><Link to="/previous-year-practice" onClick={closeAll}>ЁЯУД PYQ Practice</Link></li>
  <li><Link to="/fill-ups" onClick={closeAll}>тЬНя╕П Fill in the Blanks</Link></li>
  <li><Link to="/true-false" onClick={closeAll}>тЬФя╕П True/False</Link></li>
  <li><Link to="/match-the-following" onClick={closeAll}>ЁЯФЧ Match the Following</Link></li>
  <li><Link to="/assertion-reason" onClick={closeAll}>ЁЯУМ Assertion & Reason</Link></li>
  <li><Link to="/practicals" onClick={closeAll}>ЁЯФм Practical Based Questions</Link></li>
  <li><Link to="/formula-practice" onClick={closeAll}>ЁЯУР Formula Practice</Link></li>
  <li><Link to="/translation-practice" onClick={closeAll}>ЁЯМР Translation Practice</Link></li>
  <li><Link to="/vocabulary-practice" onClick={closeAll}>ЁЯЧгя╕П Vocabulary Practice</Link></li>

                </ul>
              )}
            </li>

           <li className="nav-item" onClick={() => {
  setResourcesOpen(!resourcesOpen);       
  setLearnOpen(false);
  setExamOpen(false);
  setSubjectOpen(false);
  setCareerOpen(false);
  setFunZoneOpen(false);
  setPracticeOpen(false);
}}>
              Resources
              {resourcesOpen && (
                <ul className="dropdown">
           <li><Link to="/ncert-books" onClick={closeAll}>ЁЯУШ NCERT Books</Link></li>
  <li><Link to="/syllabus" onClick={closeAll}>ЁЯз╛ Syllabus</Link></li>
  <li><Link to="/tips-tricks" onClick={closeAll}>ЁЯТб Tips & Tricks</Link></li>
  <li><Link to="/study-planner" onClick={closeAll}>ЁЯЧУя╕П Study Planner</Link></li>
  <li><Link to="/notes" onClick={closeAll}>ЁЯУТ Study Notes</Link></li>
  <li><Link to="/sample-papers" onClick={closeAll}>ЁЯУЭ Sample Papers</Link></li>
  <li><Link to="/ebooks" onClick={closeAll}>ЁЯУЪ eBooks</Link></li>
  <li><Link to="/formulas" onClick={closeAll}>ЁЯФв Important Formulas</Link></li>
  <li><Link to="/dictionary" onClick={closeAll}>ЁЯУЦ Dictionary</Link></li>
  <li><Link to="/pdf-zone" onClick={closeAll}>ЁЯЧВя╕П PDF Zone</Link></li>
  <li><Link to="/video-lectures" onClick={closeAll}>ЁЯОе Video Lectures</Link></li>
  <li><Link to="/question-bank" onClick={closeAll}>ЁЯУж Question Bank</Link></li>
  <li><Link to="/quiz-zone" onClick={closeAll}>ЁЯзк Quiz Zone</Link></li>
  <li><Link to="/practice-worksheets" onClick={closeAll}>ЁЯУВ Practice Worksheets</Link></li>
  <li><Link to="/exam-dates" onClick={closeAll}>ЁЯУЕ Exam Dates</Link></li>
  <li><Link to="/calculator" onClick={closeAll}>ЁЯзо Calculator Tool</Link></li>
  <li><Link to="/download-center" onClick={closeAll}>тмЗя╕П Download Center</Link></li>
  <li><Link to="/career-guidance" onClick={closeAll}>ЁЯзн Career Guidance</Link></li>


                </ul>
              )}
            </li>

             <li className="nav-item" onClick={() => {
  setResourcesOpen(false);       
  setLearnOpen(false);
  setExamOpen(false);
  setSubjectOpen(false);
  setCareerOpen(!careerOpen);
  setFunZoneOpen(false);
  setPracticeOpen(false);
}}>
              Career
              {careerOpen && (
                <ul className="dropdown">
                  <li><Link to="/courses" onClick={closeAll}>ЁЯОУ Courses</Link></li>
<li><Link to="/certifications" onClick={closeAll}>ЁЯУЬ Certifications</Link></li>
<li><Link to="/resume-builder" onClick={closeAll}>ЁЯУЭ Resume Builder</Link></li>
<li><Link to="/interview-prep" onClick={closeAll}>ЁЯТ╝ Interview Prep</Link></li>
<li><Link to="/career-guidance" onClick={closeAll}>ЁЯзн Career Guidance</Link></li>
<li><Link to="/internships" onClick={closeAll}>ЁЯЫая╕П Internships</Link></li>
<li><Link to="/job-openings" onClick={closeAll}>ЁЯУв Job Openings</Link></li>
<li><Link to="/mock-interviews" onClick={closeAll}>ЁЯОд Mock Interviews</Link></li>
<li><Link to="/cover-letter-builder" onClick={closeAll}>ЁЯУД Cover Letter Maker</Link></li>
<li><Link to="/portfolio-tips" onClick={closeAll}>ЁЯЧВя╕П Portfolio Tips</Link></li>
<li><Link to="/career-quizzes" onClick={closeAll}>ЁЯза Career Quizzes</Link></li>
<li><Link to="/freelancing" onClick={closeAll}>ЁЯМН Freelancing Guide</Link></li>
<li><Link to="/govt-exams-career" onClick={closeAll}>ЁЯПЫя╕П Government Exam Paths</Link></li>
<li><Link to="/career-switch" onClick={closeAll}>ЁЯФБ Career Switch Help</Link></li>
<li><Link to="/study-abroad" onClick={closeAll}>тЬИя╕П Study Abroad</Link></li>

                </ul>
              )}
            </li>
 <li className="nav-item" onClick={() => {
  setResourcesOpen(false);      
  setLearnOpen(false);
  setExamOpen(false);
  setSubjectOpen(false);
  setCareerOpen(false);
  setFunZoneOpen(!funZoneOpen);
  setPracticeOpen(false);
}}>
              Fun Zone
              {funZoneOpen && (
                <ul className="dropdown">
                <li><Link to="/games" onClick={closeAll}>ЁЯОо Games</Link></li>
<li><Link to="/puzzles" onClick={closeAll}>ЁЯзй Puzzles</Link></li>
<li><Link to="/brain-teasers" onClick={closeAll}>ЁЯза Brain Teasers</Link></li>
<li><Link to="/riddles" onClick={closeAll}>тЭУ Riddles</Link></li>
<li><Link to="/quizzes" onClick={closeAll}>ЁЯОп Fun Quizzes</Link></li>
<li><Link to="/spot-difference" onClick={closeAll}>ЁЯФН Spot the Difference</Link></li>
<li><Link to="/memory-games" onClick={closeAll}>ЁЯза Memory Games</Link></li>
<li><Link to="/coloring" onClick={closeAll}>ЁЯОи Coloring Zone</Link></li>
<li><Link to="/fun-facts" onClick={closeAll}>ЁЯУЪ Fun Facts</Link></li>
<li><Link to="/crossword" onClick={closeAll}>тЬПя╕П Crossword</Link></li>
<li><Link to="/mazes" onClick={closeAll}>ЁЯМА Mazes</Link></li>
<li><Link to="/jokes" onClick={closeAll}>ЁЯШВ Jokes</Link></li>
<li><Link to="/tongue-twisters" onClick={closeAll}>ЁЯСЕ Tongue Twisters</Link></li>

                </ul>
              )}
            </li>
          </ul>
          
        </div>

        <div className="header-right">
        <div className="search-container">
  <input
    type="text"
    className="search-input"
    placeholder="Search..."
    value={searchQuery}
    onChange={(e) => handleSearchInput(e.target.value)}
    onFocus={() => setShowSuggestions(true)}
  />
  {showSuggestions && filteredSuggestions.length > 0 && (
    <ul className="suggestion-dropdown">
      {filteredSuggestions.map((item, index) => (
        <li key={index}>
          <Link to={item.link} onClick={() => setShowSuggestions(false)}>
            {item.label}
          </Link>
        </li>
      ))}
    </ul>
  )}
</div>

          {/* <button onClick={toggleLanguage} className="lang-switch">
            {language === "en" ? "ЁЯМР рд╣рд┐рдВрджреА" : "ЁЯМР English"}
          </button> */}

          <button onClick={() => setShowVoiceChat(prev => !prev)}>
    ЁЯОд MicBot
  </button>
  <Link to="/path" className="voice-link">ЁЯзн Spark</Link>
  <Link to="/login" className="admin-text">Login</Link>
        </div>
      </div>

      {/* тЬЕ Mobile Layout */}
      <div className="header-mobile mobile-only">
        <div className="brand-title">Example</div>
        <div style={{ display: 'flex', gap: '10px', alignItems: 'center' }}>
          <button className="menu-icon" onClick={() => setMobileMenuOpen(!mobileMenuOpen)}>тШ░</button>
          {/* <button onClick={toggleLanguage} className="lang-switch">
            {language === "en" ? "рд╣рд┐рдВрджреА" : "English"}
          </button> */}
        {/* <button onClick={() => setShowVoiceChat(prev => !prev)}>
          ЁЯОд Voice Assistant
        </button>
        <Link to="/path" className="path-link">
          ЁЯзн Personalized Path
        </Link> */}
        <Link to="/login" className="admin-text">Login</Link>
      </div>

      {/* {showVoiceChat && <VoiceChat />} */}
        </div>

      {/* тЬЕ Mobile Dropdown Menu */}
      {mobileMenuOpen && (
        <div className="mobile-menu">
          <ul>
            {/* Each li calls openOnly(setX) */}
            <li onClick={() => setLearnOpen(!learnOpen)}>Learn тЦ╝</li>
            {learnOpen && (
              <ul className="nested">
              <li><Link to="/math" onClick={closeAll}>ЁЯзо Mathematics</Link></li>
  <li><Link to="/english" onClick={closeAll}>ЁЯУШ English</Link></li>
  <li><Link to="/science" onClick={closeAll}>ЁЯФм Science</Link></li>
  <li><Link to="/socialscience" onClick={closeAll}>ЁЯзн Social Science</Link></li>
  <li><Link to="/gk" onClick={closeAll}>ЁЯМН GK</Link></li>
  <li><Link to="/polity" onClick={closeAll}>ЁЯПЫя╕П Polity</Link></li>
  <li><Link to="/chemistry" onClick={closeAll}>ЁЯзк Chemistry</Link></li>
  <li><Link to="/physics" onClick={closeAll}>ЁЯУР Physics</Link></li>
  <li><Link to="/geography" onClick={closeAll}>ЁЯзн Geography</Link></li>
  <li><Link to="/history" onClick={closeAll}>ЁЯП╣ History</Link></li>
  <li><Link to="/reasoning" onClick={closeAll}>ЁЯза Reasoning</Link></li>
  <li><Link to="/logical-aptitude" onClick={closeAll}>ЁЯТб Logical Aptitude</Link></li>
  <li><Link to="/grammer" onClick={closeAll}>ЁЯУЭ Grammar</Link></li>
  <li><Link to="/computers" onClick={closeAll}>ЁЯМР Computers</Link></li>
  <li><Link to="/economics" onClick={closeAll}>ЁЯУК Economics</Link></li>
  <li><Link to="/hindi" onClick={closeAll}>ЁЯУЪ Hindi</Link></li>
  <li><Link to="/sanskrit" onClick={closeAll}>ЁЯУЦ Sanskrit</Link></li>
  <li><Link to="/hindigrammer" onClick={closeAll}>ЁЯУЪ рд╣рд┐рдВрджреА рд╡реНрдпрд╛рдХрд░рдг</Link></li>
  <li><Link to="/stories" onClick={closeAll}>ЁЯУЦ Stories</Link></li>
  <li><Link to="/quizzes" onClick={closeAll}>ЁЯУШ English тЖФ Hindi Translation</Link></li>
              </ul>
            )}

            <li onClick={() => setExamOpen(!examOpen)}>Exams тЦ╝</li>
            {examOpen && (
              <ul className="nested">
                <li><strong>Government</strong></li>
          <li><Link to="/upsc" onClick={closeAll}>ЁЯЫбя╕П UPSC</Link></li>
<li><Link to="/state-psc" onClick={closeAll}>ЁЯПЫя╕П State PSC</Link></li>
  <li><Link to="/ssc" onClick={closeAll}>ЁЯУЪ SSC</Link></li>
<li><Link to="/banking" onClick={closeAll}>ЁЯТ░ Banking</Link></li>
<li><Link to="/railway" onClick={closeAll}>ЁЯЪЖ Railway</Link></li>
<li><Link to="/teaching-exams" onClick={closeAll}>ЁЯСйтАНЁЯПл CTET/TET</Link></li>
<li><Link to="/si" onClick={closeAll}>ЁЯХ╡я╕ПтАНтЩВя╕П Sub-Inspector (SI)</Link></li>
<li><Link to="/police" onClick={closeAll}>ЁЯЪУ Police Exams</Link></li>

                <li><strong>Engineering</strong></li>
             <li><Link to="/gate" onClick={closeAll}>ЁЯзк GATE</Link></li>
<li><Link to="/ies" onClick={closeAll}>ЁЯЫая╕П IES</Link></li>
<li><Link to="/jee-advanced" onClick={closeAll}>ЁЯУП JEE Advanced</Link></li>
<li><Link to="/jee-main" onClick={closeAll}>ЁЯУР JEE Main</Link></li>
     <li><strong>State Engineering Exams </strong></li>
     <li><Link to="/mht-cet" onClick={closeAll}>ЁЯПЩя╕П MHT-CET</Link></li>
<li><Link to="/wbjee" onClick={closeAll}>ЁЯМЙ WBJEE</Link></li>
<li><Link to="/kcet" onClick={closeAll}>ЁЯМ┐ KCET</Link></li>
<li><Link to="/ap-eapcet" onClick={closeAll}>ЁЯМК AP EAPCET</Link></li>
<li><Link to="/ts-eapcet" onClick={closeAll}>тШАя╕П TS EAPCET</Link></li>
<li><Link to="/upsee" onClick={closeAll}>ЁЯПп UPSEE</Link></li>
     
                <li><strong>Medical</strong></li>
               {/* Medical */}
<li><Link to="/neet" onClick={closeAll}>ЁЯТЙ NEET</Link></li>
<li><Link to="/aiims" onClick={closeAll}>ЁЯПе AIIMS</Link></li>
<li><Link to="/neet-pg" onClick={closeAll}>ЁЯУШ NEET PG</Link></li>
<li><Link to="/ini-cet" onClick={closeAll}>ЁЯза INI-CET</Link></li>
<li><Link to="/fmge" onClick={closeAll}>ЁЯМН FMGE</Link></li>
<li><Link to="/jipmer" onClick={closeAll}>ЁЯПл JIPMER</Link></li>

                <li><strong>Defence</strong></li>
               <li><Link to="/nda" onClick={closeAll}>ЁЯОЦя╕П NDA</Link></li>
<li><Link to="/cds" onClick={closeAll}>ЁЯкЦ CDS</Link></li>
<li><Link to="/afcat" onClick={closeAll}>тЬИя╕П AFCAT</Link></li>
<li><Link to="/sainik" onClick={closeAll}>ЁЯПл Sainik School</Link></li>
                <li><strong>Others</strong></li>
    <li><Link to="/olympiads">ЁЯеЗ Olympiads</Link></li>
    <li><Link to="/navodaya" onClick={closeAll}>ЁЯПд Navodaya Vidyalaya</Link></li>
<li><Link to="/cuet" onClick={closeAll}>ЁЯОУ CUET</Link></li>
<li><Link to="/clat" onClick={closeAll}>тЪЦя╕П CLAT</Link></li>
<li><Link to="/nptel" onClick={closeAll}>ЁЯОе NPTEL</Link></li>
<li><Link to="/nta" onClick={closeAll}>ЁЯз╛ NTA Exams</Link></li>
              </ul>
            )}

            <li onClick={() => setSubjectOpen(!subjectOpen)}>Subjects тЦ╝</li>
            {subjectOpen && (
              <ul className="nested">
    <li><Link to="/math" onClick={closeAll}>тЮХ Mathematics</Link></li>
  <li><Link to="/chemistry" onClick={closeAll}>ЁЯзк Chemistry</Link></li>
  <li><Link to="/physics" onClick={closeAll}>ЁЯУР Physics</Link></li>
  <li><Link to="/biology" onClick={closeAll}>ЁЯзм Biology</Link></li>
  <li><Link to="/english" onClick={closeAll}>ЁЯУШ English</Link></li>
  <li><Link to="/gk" onClick={closeAll}>ЁЯза General Knowledge</Link></li>
  <li><Link to="/reasoning" onClick={closeAll}>ЁЯТб Reasoning</Link></li>
  <li><Link to="/science" onClick={closeAll}>ЁЯФм General Science</Link></li>
  <li><Link to="/computers" onClick={closeAll}>ЁЯЦея╕П Computer Awareness</Link></li>
  <li><Link to="/aptitude" onClick={closeAll}>ЁЯТб Aptitude</Link></li>
  <li><Link to="/environment" onClick={closeAll}>ЁЯМ▒ Environment</Link></li>
  <li><Link to="/moral-education" onClick={closeAll}>ЁЯЩП Moral Education</Link></li>
  <li><Link to="/sports" onClick={closeAll}>тЪ╜ Sports</Link></li>
  <li><Link to="/art" onClick={closeAll}>ЁЯОи Art</Link></li>
              </ul>
            )}

            <li onClick={() => setPracticeOpen(!practiceOpen)}>Practice тЦ╝</li>
            {practiceOpen && (
              <ul className="nested">
<li><Link to="/daily-practices" onClick={closeAll}>ЁЯУЭ Daily Practice</Link></li>
  <li><Link to="/mock-tests" onClick={closeAll}>ЁЯУК Mock Tests</Link></li>
  <li><Link to="/previous-papers" onClick={closeAll}>ЁЯУД Previous Papers</Link></li>
  <li><Link to="/mcq-practice" onClick={closeAll}>ЁЯза MCQ Practice</Link></li>
  <li><Link to="/chapter-wise" onClick={closeAll}>ЁЯУШ Chapter-wise Practice</Link></li>
  <li><Link to="/topic-wise" onClick={closeAll}>ЁЯУЧ Topic-wise Practice</Link></li>
  <li><Link to="/subject-wise" onClick={closeAll}>ЁЯУЩ Subject-wise Practice</Link></li>
  <li><Link to="/timed-tests" onClick={closeAll}>тП▒я╕П Timed Tests</Link></li>
  <li><Link to="/previous-year-practice" onClick={closeAll}>ЁЯУД PYQ Practice</Link></li>
  <li><Link to="/fill-ups" onClick={closeAll}>тЬНя╕П Fill in the Blanks</Link></li>
  <li><Link to="/true-false" onClick={closeAll}>тЬФя╕П True/False</Link></li>
  <li><Link to="/match-the-following" onClick={closeAll}>ЁЯФЧ Match the Following</Link></li>
  <li><Link to="/assertion-reason" onClick={closeAll}>ЁЯУМ Assertion & Reason</Link></li>
  <li><Link to="/practicals" onClick={closeAll}>ЁЯФм Practical Based Questions</Link></li>
  <li><Link to="/formula-practice" onClick={closeAll}>ЁЯУР Formula Practice</Link></li>
  <li><Link to="/translation-practice" onClick={closeAll}>ЁЯМР Translation Practice</Link></li>
  <li><Link to="/vocabulary-practice" onClick={closeAll}>ЁЯЧгя╕П Vocabulary Practice</Link></li>

              </ul>
            )}

            <li onClick={() => setResourcesOpen(!resourcesOpen)}>Resources тЦ╝</li>
            {resourcesOpen && (
              <ul className="nested">
               <li><Link to="/ncert-books" onClick={closeAll}>ЁЯУШ NCERT Books</Link></li>
  <li><Link to="/syllabus" onClick={closeAll}>ЁЯз╛ Syllabus</Link></li>
  <li><Link to="/tips-tricks" onClick={closeAll}>ЁЯТб Tips & Tricks</Link></li>
  <li><Link to="/study-planner" onClick={closeAll}>ЁЯЧУя╕П Study Planner</Link></li>
  <li><Link to="/notes" onClick={closeAll}>ЁЯУТ Study Notes</Link></li>
  <li><Link to="/sample-papers" onClick={closeAll}>ЁЯУЭ Sample Papers</Link></li>
  <li><Link to="/ebooks" onClick={closeAll}>ЁЯУЪ eBooks</Link></li>
  <li><Link to="/formulas" onClick={closeAll}>ЁЯФв Important Formulas</Link></li>
  <li><Link to="/dictionary" onClick={closeAll}>ЁЯУЦ Dictionary</Link></li>
  <li><Link to="/pdf-zone" onClick={closeAll}>ЁЯЧВя╕П PDF Zone</Link></li>
  <li><Link to="/video-lectures" onClick={closeAll}>ЁЯОе Video Lectures</Link></li>
  <li><Link to="/question-bank" onClick={closeAll}>ЁЯУж Question Bank</Link></li>
  <li><Link to="/quiz-zone" onClick={closeAll}>ЁЯзк Quiz Zone</Link></li>
  <li><Link to="/practice-worksheets" onClick={closeAll}>ЁЯУВ Practice Worksheets</Link></li>
  <li><Link to="/exam-dates" onClick={closeAll}>ЁЯУЕ Exam Dates</Link></li>
  <li><Link to="/calculator" onClick={closeAll}>ЁЯзо Calculator Tool</Link></li>
  <li><Link to="/download-center" onClick={closeAll}>тмЗя╕П Download Center</Link></li>
  <li><Link to="/career-guidance" onClick={closeAll}>ЁЯзн Career Guidance</Link></li>

              </ul>
            )}

            <li onClick={() => setFunZoneOpen(!funZoneOpen)}>Career тЦ╝</li>
            {careerOpen && (
              <ul className="nested">
          <li><Link to="/courses" onClick={closeAll}>ЁЯОУ Courses</Link></li>
<li><Link to="/certifications" onClick={closeAll}>ЁЯУЬ Certifications</Link></li>
<li><Link to="/resume-builder" onClick={closeAll}>ЁЯУЭ Resume Builder</Link></li>
<li><Link to="/interview-prep" onClick={closeAll}>ЁЯТ╝ Interview Prep</Link></li>
<li><Link to="/career-guidance" onClick={closeAll}>ЁЯзн Career Guidance</Link></li>
<li><Link to="/internships" onClick={closeAll}>ЁЯЫая╕П Internships</Link></li>
<li><Link to="/job-openings" onClick={closeAll}>ЁЯУв Job Openings</Link></li>
<li><Link to="/mock-interviews" onClick={closeAll}>ЁЯОд Mock Interviews</Link></li>
<li><Link to="/cover-letter-builder" onClick={closeAll}>ЁЯУД Cover Letter Maker</Link></li>
<li><Link to="/portfolio-tips" onClick={closeAll}>ЁЯЧВя╕П Portfolio Tips</Link></li>
<li><Link to="/career-quizzes" onClick={closeAll}>ЁЯза Career Quizzes</Link></li>
<li><Link to="/freelancing" onClick={closeAll}>ЁЯМН Freelancing Guide</Link></li>
<li><Link to="/govt-exams-career" onClick={closeAll}>ЁЯПЫя╕П Government Exam Paths</Link></li>
<li><Link to="/career-switch" onClick={closeAll}>ЁЯФБ Career Switch Help</Link></li>
<li><Link to="/study-abroad" onClick={closeAll}>тЬИя╕П Study Abroad</Link></li>

              </ul>
            )}

            <li onClick={() => openOnly(setFunZoneOpen)}>Fun Zone тЦ╝</li>
            {funZoneOpen && (
              <ul className="nested">
       <li><Link to="/games" onClick={closeAll}>ЁЯОо Games</Link></li>
<li><Link to="/puzzles" onClick={closeAll}>ЁЯзй Puzzles</Link></li>
<li><Link to="/brain-teasers" onClick={closeAll}>ЁЯза Brain Teasers</Link></li>
<li><Link to="/riddles" onClick={closeAll}>тЭУ Riddles</Link></li>
<li><Link to="/quizzes" onClick={closeAll}>ЁЯОп Fun Quizzes</Link></li>
<li><Link to="/spot-difference" onClick={closeAll}>ЁЯФН Spot the Difference</Link></li>
<li><Link to="/memory-games" onClick={closeAll}>ЁЯза Memory Games</Link></li>
<li><Link to="/coloring" onClick={closeAll}>ЁЯОи Coloring Zone</Link></li>
<li><Link to="/fun-facts" onClick={closeAll}>ЁЯУЪ Fun Facts</Link></li>
<li><Link to="/crossword" onClick={closeAll}>тЬПя╕П Crossword</Link></li>
<li><Link to="/mazes" onClick={closeAll}>ЁЯМА Mazes</Link></li>
<li><Link to="/jokes" onClick={closeAll}>ЁЯШВ Jokes</Link></li>
<li><Link to="/tongue-twisters" onClick={closeAll}>ЁЯСЕ Tongue Twisters</Link></li>

              </ul>
            )}
          </ul>
        </div>
      )}
    </header>
  );
};

export default Header;
